--inventory project
create database inventory;
use inventory;
CREATE TABLE SUPPLIER
(SID VARCHAR (10)PRIMARY KEY,
SNAME VARCHAR (20) NOT NULL,
SADD VARCHAR (30) NOT NULL,
SCITY VARCHAR (30) CHECK (SCITY='DELHI'),
SPHONE BIGINT UNIQUE,
EMAIL VARCHAR (50));
SELECT * FROM SUPPLIER;
insert into SUPPLIER values
('SID001','VIKAS','2 SHYAM VIHAR','DELHI',9953137678,'VIKAS@GMAIL.COM');

insert into supplier values
('SID002','VIHA','45 SANGAM VIHAR','DELHI',988358667,'VIHA@GMAIL.COM'),
('SID003','HARSH','2 SANTRAM DAIRY','DELHI',9716532174,'HARSH@GMAIL.COM'),
('SID004','TARA','67 SATNRAM GOYLA','DELHI',9967543290,'TARA@GMAIL.COM'),
('SID005','VINAY','01 BDO OFFICE','DELHI',99095432678,'VINAY@GMAIL.COM'),
('SID006','VARSHA','09 QUTUB VIHAR','DELHI',9953187865,'VARSHA@GMAIL.COM');

CREATE TABLE PRODUCT
(PID VARCHAR(10) PRIMARY KEY,
PDESC VARCHAR(10) NOT NULL,
PRICE INT CHECK (PRICE>0),
CATEGORY VARCHAR (30) CHECK (CATEGORY IN('IT', 'HA', 'HC')),
SID VARCHAR (10) REFERENCES SUPPLIER (SID));
SELECT *FROM PRODUCT
INSERT INTO PRODUCT VALUES
('PID001','MICROWVE',2599,'IT','SID001');
INSERT INTO PRODUCT VALUES
('PID002','BIKE',17000,'HA','SID002');

INSERT INTO PRODUCT VALUES
('PID003','CAMERA',27999,'IT','SID003');

INSERT INTO PRODUCT VALUES
('PID004','DSLR',20000,'IT','SID004');

INSERT INTO PRODUCT VALUES
('PID005','MICROWAVE',54500,'HC','SID005');

INSERT INTO PRODUCT VALUES
('PID006','LAPTOP',87800,'IT','SID006');

INSERT INTO PRODUCT (PID,PDESC,PRICE,CATEGORY) VALUES
('PID007','PHONE',27800,'HC'),
('PID008','AC',87800,'IT'),
('PID009','LAPTOP',80800,'IT'),
('PID010','LED',66000,'HA'),
('PID011','LAPTOP',87800,'HA'),
('PID-12','LAPTOP',87800,'IT'),
('PID013','BAG',30270,'HC'),
('PID014','LAPTOP',87800,'IT');

SELECT *FROM PRODUCT;
SELECT *FROM SUPPLIER;

SELECT TOP (5) SALARY FROM PRODUCT;
SELECT TOP (5) SALARY FROM SUPPLIER;

SELECT SUPPLIER.SID, NAME, EMAIL, SCITY FROM PRODUCT JOIN SUPLLIER ON PRODUCT.SID = SUPPLIER.SID;

ALTER TABLE SUPPLIER ADD AGE INT;
UPDATE SUPPLIER SET AGE = 32 WHERE SID = 'SID001';
UPDATE SUPPLIER SET AGE = 54 WHERE SID = 'SID002';
UPDATE SUPPLIER SET AGE = 12 WHERE SID = 'SID003';
UPDATE SUPPLIER SET AGE = 40 WHERE SID = 'SID004';
UPDATE SUPPLIER SET AGE = 32 WHERE SID = 'SID005';
UPDATE SUPPLIER SET AGE = 35 WHERE SID = 'SID006';


SELECT *FROM SUPPLIER;
SELECT SNAME,SCITY FROM SUPPLIER WHERE DATEDIFF(YEAR,AGE,GETDATE())>=30;

ALTER TABLE SUPPLIER ADD CONSTRAINT SUP_R PRIMARY KEY (SID);
ALTER TABLE PRODUCT ALTER COLUMN PID VARCHAR (20) NOT NULL;

